# DynaScan (戴拿 )

## 历史更新记录

```
20230705 【优化代码】新增功能代码

20230629 【BUG修复】优化字典、重构代码,不再使用全局变量传递参数

20230616 【BUG修复】修复因变量未生效问题
DynaScan.py -u http://127.0.0.1/aaa/ -r backup
[+] 可能存在 [http://127.0.0.1/aaa/web.zip]
[+] 可能存在 [http://127.0.0.1/aaa/aaa.zip]

20230525 【重新设计】从新设计目录加载选项,现在从命令行调用字典更方便.

20230506 【BUG修复】修复多/转单/未赋值的问题
20230506 【增加脚本】 增加字典内容检查脚本,手动发现错误的字典规则.

20230505 【BUG修复】修复写入命中时的错误
20230505 【优化代码】优化字典读取函数，现在支持读取多层目录下的字典。
20230505 【优化代码】对于基本变量目录下的子目录读取时，会额外增加 "…%目录名%":[目录下所有字典文件内容]

20230426 【优化代码】优化代码格式、修复小BUG

20230417 【优化代码】优化代码格式

20230411 【增加脚本】format_dict.py 格式化目录字典下的字典 （统计频率+不可见字符去除）
20230411 【重构代码】修改HTTP响应模块及其他逻辑配置

20230405 【优化代码】移除内置Requests,更新带有版本号的
req文件

20230405 【BUG修复】解决功能函数更新，但是调用函数未更新的BUG

20230329 【BUG修复】解决因变量获取时可能存在的死循环BUG
20230329 【功能增强】优化因变量和基础变量的替换实现代码，实现多个基础变量|因变量的支持.

20220702 【功能增强】修改命中文件存储路径、删除无用的功能：指定自定义字典、自动追加命中后缀。
20220702 【功能增强】增加字典分类目录，实现根据用户-dp参数直接调用该目录下的文件，而不是需要依靠修改后缀来关闭字典，默认内置了dict-max，dict-mid，dict-min三个分类，目前只有dict-max存在实际文件。用户可以在setting.py内添加自己的字典分类。

20220601 【BUG修复】修复由于路径字典中关键字不正确导致的变量不替换问题
20220601 【功能增强】添加停止扫描阈值，当多次没有正常响应时，结束对目标的扫描。
20220601 【BUG修复】修复由于路径字典中的\u200b等不可见字符导致的logger输出报错

20220531 【BUG修复】内置requests==2.22.0模块,解决requests==2.27.0时，相应chunk数据包报错问题。

20220520 【BUG修复】修复非智能请求头判断模式下，没有接受resp_redirect_url参数导致的错误。

20220328 【功能增强】增加最后的请求URL (resp_redirect_url = resp.url.strip()),用于自动筛选和人工筛选。

20220325 【功能增强】添加排除已测试的不可访问的URL目标的功能，如果记录文件中已有这个URL,就跳过扫描。
20220325 【功能增强】优化对有协议头和没有协议头目标的处理,更好的兼容目标排除功能

20220324 【功能增强】简单显示当前扫描任务的进度,输出list_all_target.index(target)/len(list_all_target))

20220323 【功能增强】添加移除指定后缀的URL目标功能 DELETE_SPECIFY_EXT_SWITCH = False DELETE_SPECIFY_EXT_LIST = ['jsp']
20220323 【功能增强】添加指定结果文件是否按目标分割开关  WRITE_RESULT_DIFF_SWITCH = False
20220323 【功能增强】添加结果文件和日志文件是否添加程序启动时间戳开关  FILE_RUN_TIME_SWITCH = False
20220323 【功能增强】添加保留指定后缀的URL目标功能 STORE_SPECIFY_EXT_SWITCH = True STORE_SPECIFY_EXT_LIST = ['zip','xxx']
20220323 【功能增强】添加空字符表示串 %BLANK%  BASE_VAR_REPLACE_DICT = {"%BLANK%": ['']}
20220323 【功能增强】当保留指定后缀和移除指定后缀同时存在时,先进行指定后缀URL保留,后进行指定后缀URL排除, 建议一次扫描仅开启一个开关 
20220323 【功能增强】添加排除已扫描URL目标的功能，如果记录文件中已有这个URL,就跳过扫描。默认EXCLUDE_VISITED_TARGET_SWITCH = True,对于HOST-Port形式的目标会先进行多线程协议探测。只有经过完整的路径探测的目标才会加入记录文件，如果担心目标没有扫到,可以多扫几次。
20220323 【功能增强】添加路径添加自定义前缀列表功能 CUSTOM_PREFIX_LIST = ['/admin']  CUSTOM_PREFIX_SWITCH = False
20220323 【功能增强】多线程检测HOST协议,发现大批量时原来的实在时太慢,极大加快大批量目标的处理，修改大量空结果处理逻辑
20220323 【BUG修复】修复大量BUG,自动适应控制台编码(gbk|utf8等)输出,无法输出的进行UTF-8的URL编码
20220323 【功能增强】添加URL结尾去除开关 REMOVE_END_SYMBOL = False  REMOVE_SYMBOL_LIST = ['.','/']
20220323 【功能增强】添加路径全部小写功能 ALL_PATH_LOWERCASE = False

20220321 【BUG修复】由于gb2312繁体会报错,对中文编码处理由gb2312转为gbk

20220320 【字典更新】更新【源代码泄露字典、通用敏感文件字典】
20220320 【BUG修复】修复默认的同时加载目标URL和目标文件,删除默认目标文件,设置无任何参数时扫描www.baidu.com

20220319 【功能增强】添加关闭直接模式和关闭组合模式开关
20220319 【字典更新】更新字典文件 【SpringBoot路径字典】
20220319 【功能增强】添加响应标题关键字匹配,过滤一些确定没有的页面 
20220319 【功能增强】默认调用目录下所有字典太多,添加【仅加载特定目录下的指定字典】的功能, 
20220217 【字典更新】更新字典文件 【备份文件字典】
```

## NEED STAR And ISSUE

```
1、右上角点击Star支持更新.
2、ISSUE或NOVASEC提更新需求
```

![NOVASEC](doc/NOVASEC.jpg)
